{
  "name": "QSIG Macro Graph",
  "description": "Event \u2192 Instrument large move prediction edges",
  "version": "1.0.0",
  "nodes": {
    "CPI": {
      "type": "event",
      "name": "CPI",
      "description": "Consumer Price Index release"
    },
    "HY_OAS": {
      "type": "instrument",
      "name": "HY_OAS",
      "description": "High-Yield OAS spread"
    },
    "UNEMPLOYMENT": {
      "type": "event",
      "name": "UNEMPLOYMENT",
      "description": "BLS Employment Situation"
    },
    "VIX": {
      "type": "instrument",
      "name": "VIX",
      "description": "CBOE Volatility Index"
    }
  },
  "edge_slots": {
    "CPI->HY_OAS": {
      "slot_id": "CPI->HY_OAS",
      "from_node": {
        "type": "event",
        "name": "CPI",
        "description": "Consumer Price Index release"
      },
      "to_node": {
        "type": "instrument",
        "name": "HY_OAS",
        "description": "High-Yield OAS spread"
      },
      "description": "CPI \u2192 HY_OAS large move probability",
      "feature_spec": {
        "active_factor": "cpi_shock_abs",
        "background_features": [
          "yield_vol_10y",
          "hy_vol",
          "slope_10y_2y",
          "fed_funds",
          "hy_oas_before",
          "stlfsi"
        ]
      },
      "edges": {
        "CPI->HY_OAS__FN1pct__LogReg_w50_thr0p15": {
          "edge_id": "CPI->HY_OAS__FN1pct__LogReg_w50_thr0p15",
          "slot_id": "CPI->HY_OAS",
          "from_node": {
            "type": "event",
            "name": "CPI",
            "description": "Consumer Price Index release"
          },
          "to_node": {
            "type": "instrument",
            "name": "HY_OAS",
            "description": "High-Yield OAS spread"
          },
          "model_type": "LogReg",
          "model_location": "registry/models/CPI->HY_OAS__FN1pct__LogReg_w50_thr0p15.pkl",
          "active_factor": "cpi_shock_abs",
          "background_features": [
            "yield_vol_10y",
            "hy_vol",
            "slope_10y_2y",
            "fed_funds",
            "hy_oas_before",
            "stlfsi"
          ],
          "target_series": "HY_OAS",
          "target_unit": "bp",
          "large_move_threshold": {
            "value": 0.15,
            "definition": "92th percentile of |\u0394hy_change|"
          },
          "fn_constraint": 0.01,
          "prob_cutoff": 0.8,
          "threshold_selection_method": "grid_search + FN\u22641% constraint on test",
          "stats": {
            "train_period": [
              "1997-01-14",
              "2017-06-14"
            ],
            "test_period": [
              "2017-07-14",
              "2025-10-24"
            ],
            "n_test_events": 100,
            "n_test_pos": 8,
            "n_test_neg": 92,
            "tp": 7,
            "fp": 36,
            "fn": 1,
            "tn": 56,
            "auc": 0.8410326086956521,
            "base_rate": 0.08,
            "fn_rate": 0.125,
            "fp_rate": 0.391304347826087,
            "precision": 0.16279069767441862,
            "tn_fp_ratio": 1.5555555555555556,
            "test_predictions": null
          },
          "version": "2025-12-05_cpi_hy_oas_v1",
          "created_at": "2025-12-05T21:54:17.599217Z",
          "created_by": "build_macro_graph.py",
          "notes": "n_test_pos=8, treat as fragile if low",
          "model_params": {
            "max_iter": 1000,
            "weight": 50
          },
          "feature_medians": {
            "cpi_shock_abs": 0.42499999999999716,
            "yield_vol_10y": 0.04244916132530064,
            "hy_vol": 0.05215574132126694,
            "slope_10y_2y": 1.435,
            "fed_funds": 1.24,
            "hy_oas_before": 5.205,
            "stlfsi": 0.03435
          }
        },
        "CPI->HY_OAS__FN5pct__LogReg_w50_thr0p15": {
          "edge_id": "CPI->HY_OAS__FN5pct__LogReg_w50_thr0p15",
          "slot_id": "CPI->HY_OAS",
          "from_node": {
            "type": "event",
            "name": "CPI",
            "description": "Consumer Price Index release"
          },
          "to_node": {
            "type": "instrument",
            "name": "HY_OAS",
            "description": "High-Yield OAS spread"
          },
          "model_type": "LogReg",
          "model_location": "registry/models/CPI->HY_OAS__FN5pct__LogReg_w50_thr0p15.pkl",
          "active_factor": "cpi_shock_abs",
          "background_features": [
            "yield_vol_10y",
            "hy_vol",
            "slope_10y_2y",
            "fed_funds",
            "hy_oas_before",
            "stlfsi"
          ],
          "target_series": "HY_OAS",
          "target_unit": "bp",
          "large_move_threshold": {
            "value": 0.15,
            "definition": "92th percentile of |\u0394hy_change|"
          },
          "fn_constraint": 0.05,
          "prob_cutoff": 0.8,
          "threshold_selection_method": "grid_search + FN\u22645% constraint on test",
          "stats": {
            "train_period": [
              "1997-01-14",
              "2017-06-14"
            ],
            "test_period": [
              "2017-07-14",
              "2025-10-24"
            ],
            "n_test_events": 100,
            "n_test_pos": 8,
            "n_test_neg": 92,
            "tp": 7,
            "fp": 36,
            "fn": 1,
            "tn": 56,
            "auc": 0.8410326086956521,
            "base_rate": 0.08,
            "fn_rate": 0.125,
            "fp_rate": 0.391304347826087,
            "precision": 0.16279069767441862,
            "tn_fp_ratio": 1.5555555555555556,
            "test_predictions": null
          },
          "version": "2025-12-05_cpi_hy_oas_v1",
          "created_at": "2025-12-05T21:54:17.615654Z",
          "created_by": "build_macro_graph.py",
          "notes": "n_test_pos=8, treat as fragile if low",
          "model_params": {
            "max_iter": 1000,
            "weight": 50
          },
          "feature_medians": {
            "cpi_shock_abs": 0.42499999999999716,
            "yield_vol_10y": 0.04244916132530064,
            "hy_vol": 0.05215574132126694,
            "slope_10y_2y": 1.435,
            "fed_funds": 1.24,
            "hy_oas_before": 5.205,
            "stlfsi": 0.03435
          }
        }
      },
      "default_edge_id": "CPI->HY_OAS__FN5pct__LogReg_w50_thr0p15"
    },
    "UNEMP->VIX": {
      "slot_id": "UNEMP->VIX",
      "from_node": {
        "type": "event",
        "name": "UNEMPLOYMENT",
        "description": "BLS Employment Situation"
      },
      "to_node": {
        "type": "instrument",
        "name": "VIX",
        "description": "CBOE Volatility Index"
      },
      "description": "UNEMPLOYMENT \u2192 VIX large move probability",
      "feature_spec": {
        "active_factor": "unemp_surprise_abs",
        "background_features": [
          "vix_vol",
          "yield_vol_10y",
          "slope_10y_2y",
          "fed_funds",
          "vix_before",
          "stlfsi"
        ]
      },
      "edges": {
        "UNEMP->VIX__FN1pct__RF_shallow_w50_thr2p50": {
          "edge_id": "UNEMP->VIX__FN1pct__RF_shallow_w50_thr2p50",
          "slot_id": "UNEMP->VIX",
          "from_node": {
            "type": "event",
            "name": "UNEMPLOYMENT",
            "description": "BLS Employment Situation"
          },
          "to_node": {
            "type": "instrument",
            "name": "VIX",
            "description": "CBOE Volatility Index"
          },
          "model_type": "RF_shallow",
          "model_location": "registry/models/UNEMP->VIX__FN1pct__RF_shallow_w50_thr2p50.pkl",
          "active_factor": "unemp_surprise_abs",
          "background_features": [
            "vix_vol",
            "yield_vol_10y",
            "slope_10y_2y",
            "fed_funds",
            "vix_before",
            "stlfsi"
          ],
          "target_series": "VIX",
          "target_unit": "points",
          "large_move_threshold": {
            "value": 2.5,
            "definition": "90th percentile of |\u0394vix_change|"
          },
          "fn_constraint": 0.01,
          "prob_cutoff": 0.2,
          "threshold_selection_method": "grid_search + FN\u22641% constraint on test",
          "stats": {
            "train_period": [
              "1990-02-01",
              "2015-01-01"
            ],
            "test_period": [
              "2015-02-01",
              "2025-09-01"
            ],
            "n_test_events": 128,
            "n_test_pos": 12,
            "n_test_neg": 116,
            "tp": 9,
            "fp": 34,
            "fn": 3,
            "tn": 82,
            "auc": 0.7772988505747126,
            "base_rate": 0.09375,
            "fn_rate": 0.25,
            "fp_rate": 0.29310344827586204,
            "precision": 0.20930232558139536,
            "tn_fp_ratio": 2.411764705882353,
            "test_predictions": null
          },
          "version": "2025-12-05_unemp_vix_v1",
          "created_at": "2025-12-05T21:54:19.777871Z",
          "created_by": "build_macro_graph.py",
          "notes": "n_test_pos=12, treat as fragile if low",
          "model_params": {
            "n_estimators": 100,
            "max_depth": 3,
            "weight": 50
          },
          "feature_medians": {
            "unemp_surprise_abs": 0.09999999999999964,
            "vix_vol": 0.7923712457469512,
            "yield_vol_10y": 0.04095467381291654,
            "slope_10y_2y": 1.3750000000000004,
            "fed_funds": 3.32,
            "vix_before": 18.380000000000003,
            "stlfsi": -0.1307
          }
        },
        "UNEMP->VIX__FN5pct__GB_w20_thr2p00": {
          "edge_id": "UNEMP->VIX__FN5pct__GB_w20_thr2p00",
          "slot_id": "UNEMP->VIX",
          "from_node": {
            "type": "event",
            "name": "UNEMPLOYMENT",
            "description": "BLS Employment Situation"
          },
          "to_node": {
            "type": "instrument",
            "name": "VIX",
            "description": "CBOE Volatility Index"
          },
          "model_type": "GB",
          "model_location": "registry/models/UNEMP->VIX__FN5pct__GB_w20_thr2p00.pkl",
          "active_factor": "unemp_surprise_abs",
          "background_features": [
            "vix_vol",
            "yield_vol_10y",
            "slope_10y_2y",
            "fed_funds",
            "vix_before",
            "stlfsi"
          ],
          "target_series": "VIX",
          "target_unit": "points",
          "large_move_threshold": {
            "value": 2.0,
            "definition": "85th percentile of |\u0394vix_change|"
          },
          "fn_constraint": 0.05,
          "prob_cutoff": 0.05,
          "threshold_selection_method": "grid_search + FN\u22645% constraint on test",
          "stats": {
            "train_period": [
              "1990-02-01",
              "2015-01-01"
            ],
            "test_period": [
              "2015-02-01",
              "2025-09-01"
            ],
            "n_test_events": 128,
            "n_test_pos": 18,
            "n_test_neg": 110,
            "tp": 4,
            "fp": 14,
            "fn": 14,
            "tn": 96,
            "auc": 0.6926767676767677,
            "base_rate": 0.140625,
            "fn_rate": 0.7777777777777778,
            "fp_rate": 0.12727272727272726,
            "precision": 0.2222222222222222,
            "tn_fp_ratio": 6.857142857142857,
            "test_predictions": null
          },
          "version": "2025-12-05_unemp_vix_v1",
          "created_at": "2025-12-05T21:54:19.883048Z",
          "created_by": "build_macro_graph.py",
          "notes": "n_test_pos=18, treat as fragile if low",
          "model_params": {
            "n_estimators": 100,
            "max_depth": 3,
            "learning_rate": 0.1,
            "weight": 20
          },
          "feature_medians": {
            "unemp_surprise_abs": 0.09999999999999964,
            "vix_vol": 0.7923712457469512,
            "yield_vol_10y": 0.04095467381291654,
            "slope_10y_2y": 1.3750000000000004,
            "fed_funds": 3.32,
            "vix_before": 18.380000000000003,
            "stlfsi": -0.1307
          }
        }
      },
      "default_edge_id": "UNEMP->VIX__FN5pct__GB_w20_thr2p00"
    }
  },
  "created_at": "2025-12-05T21:54:19.883250Z"
}